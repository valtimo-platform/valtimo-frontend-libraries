<!--
  ~ Copyright 2015-2020 Ritense BV, the Netherlands.
  ~
  ~ Licensed under EUPL, Version 1.2 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" basis,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<v-page-container
  *ngIf="{
    connectorInstances: connectorInstances$ | async,
    fields: fields$ | async,
    columns: columns$ | async,
    pagination: pagination$ | async,
    loading: loading$ | async
  } as obs"
>
  <v-page-content>
    <v-table
      [loading]="obs.loading"
      [items]="obs.connectorInstances"
      [columns]="obs.columns"
      [showEditButtons]="true"
      [amountOfLoadingRows]="2"
      [pagination]="obs.pagination"
      [itemsTranslationKey]="'connectorManagement.tableItemsText'"
      (editButtonClicked)="rowClicked($event)"
      (paginationSizeSet)="paginationSet($event)"
      (paginationPageSet)="paginationClicked($event)"
    ></v-table>
  </v-page-content>
</v-page-container>

<!--<div-->
<!--  class="main-content pt-0"-->
<!--  *ngIf="{-->
<!--    connectorInstances: connectorInstances$ | async,-->
<!--    fields: fields$ | async,-->
<!--    columns: columns$ | async,-->
<!--    pagination: pagination$ | async,-->
<!--    loading: loading$ | async-->
<!--  } as obs"-->
<!--&gt;-->
<!--  <div class="container-fluid">-->
<!--    <ng-container *ngTemplateOutlet="buttons; context: {loading: obs.loading}"></ng-container>-->
<!--    <v-table-->
<!--      [loading]="obs.loading"-->
<!--      [items]="obs.connectorInstances"-->
<!--      [columns]="obs.columns"-->
<!--      [showEditButtons]="true"-->
<!--      [amountOfLoadingRows]="2"-->
<!--      [pagination]="obs.pagination"-->
<!--      [itemsTranslationKey]="'connectorManagement.tableItemsText'"-->
<!--      (editButtonClicked)="rowClicked($event)"-->
<!--      (paginationSizeSet)="paginationSet($event)"-->
<!--      (paginationPageSet)="paginationClicked($event)"-->
<!--    ></v-table>-->
<!--  </div>-->
<!--</div>-->

<valtimo-connector-modal></valtimo-connector-modal>

<!--<ng-template #buttons let-loading="loading">-->
<!--  <div class="btn-group mt-m3px mb-3 float-right">-->
<!--    <v-button (clickEvent)="showAddModal()" type="primary" mdiIcon="plus" [disabled]="loading">-->
<!--      {{ 'connectorManagement.add' | translate }}-->
<!--    </v-button>-->
<!--  </div>-->
<!--  <div class="clearfix"></div>-->
<!--</ng-template>-->
