<!--
  ~ Copyright 2015-2023 Ritense BV, the Netherlands.
  ~
  ~ Licensed under EUPL, Version 1.2 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ https://joinup.ec.europa.eu/collection/eupl/eupl-text-eupl-12
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" basis,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<ng-container *ngIf="pluginConfigurations$ | async as pluginConfigurations; else loading">
  <p class="step-description">
    {{ 'processLinkConfiguration.choosePluginConfigurationDescription' | translate }}
  </p>
  <div class="list-container">
    <ibm-structured-list selection="true" (selected)="selected($event)">
      <ibm-list-header>
        <ibm-list-column nowrap="true"></ibm-list-column>
        <ibm-list-column nowrap="true">{{
          'pluginManagement.labels.configurationName' | translate
        }}</ibm-list-column>
        <ibm-list-column>{{ 'pluginManagement.labels.pluginName' | translate }}</ibm-list-column>
      </ibm-list-header>
      <ibm-list-row
        *ngFor="let pluginConfiguration of pluginConfigurations"
        [value]="pluginConfiguration"
      >
        <ibm-list-column>
          <div *ngIf="pluginConfiguration.pluginLogoBase64">
            <img
              class="plugin-configuration-logo"
              [title]="'title' | pluginTranslate : pluginConfiguration.key | async"
              [src]="pluginConfiguration.pluginLogoBase64"
            /></div
        ></ibm-list-column>
        <ibm-list-column>{{ pluginConfiguration.title }}</ibm-list-column>
        <ibm-list-column>
          {{ 'description' | pluginTranslate : pluginConfiguration.pluginDefinition.key | async }}
        </ibm-list-column>
      </ibm-list-row>
    </ibm-structured-list>
  </div>
</ng-container>

<ng-template #loading>
  <div class="loading-container">
    <ibm-loading></ibm-loading>
  </div>
</ng-template>
