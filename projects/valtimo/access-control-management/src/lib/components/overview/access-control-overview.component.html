<valtimo-carbon-table
  [data]="roles$ | async"
  [tableConfig]="tableConfig"
  (rowClick)="onRowClick($event)"
>
  <ng-container carbonTableTitle> {{ 'accessControl.roles.title' | translate }} </ng-container>

  <div carbonToolbarContent>
    <button ibmButton="primary" (click)="openAddModal()">
      {{ 'accessControl.roles.add' | translate }}

      <svg class="cds--btn__icon" ibmIcon="add" size="16"></svg>
    </button>
  </div>
</valtimo-carbon-table>

<valtimo-role-metadata-modal
  [open]="showAddModal$ | async"
  (closeEvent)="onAdd($event)"
></valtimo-role-metadata-modal>

<button (click)="showDeleteModal()">delete</button>
<button (click)="showExportModal()">export</button>

<ng-container *ngIf="{selectedRowKeys: selectedRowKeys$ | async} as obs">
  <valtimo-delete-role-modal
    [deleteRowKeys]="obs.selectedRowKeys"
    [showDeleteModal$]="showDeleteModal$"
    (deleteEvent)="onDelete($event)"
  >
  </valtimo-delete-role-modal>

  <valtimo-export-role-modal
    [exportRowKeys]="obs.selectedRowKeys"
    [open]="showExportModal$ | async"
    (exportEvent)="onExport($event)"
    (closeEvent)="closeExportModal()"
  >
  </valtimo-export-role-modal>
</ng-container>
